---
sidebar_position: 1
title: CLI Commands
description: Complete reference for all CX Linux CLI commands, flags, and options.
keywords: [cli, commands, reference, flags, options, terminal]
---

# CLI Commands

Complete reference for the CX CLI. All commands support natural language input and standard flags.

## Basic Syntax

```bash
cx [flags] "natural language command"
cx [flags] <subcommand> [args]
```

## Global Flags

These flags work with any command:

| Flag | Short | Description |
|------|-------|-------------|
| `--dry-run` | `-n` | Preview without executing |
| `--execute` | `-e` | Execute (overrides dry-run default) |
| `--verbose` | `-v` | Detailed output |
| `--quiet` | `-q` | Minimal output |
| `--yes` | `-y` | Skip confirmations |
| `--explain` | | Show reasoning |
| `--help` | `-h` | Show help |
| `--version` | `-V` | Show version |
| `--config` | `-c` | Use specific config file |
| `--format` | `-f` | Output format (text, json, yaml) |

## Natural Language Commands

The primary way to interact with CX Linux:

```bash
cx "your natural language request"
```

### Examples

```bash
# Package management
cx "install nodejs"
cx "update all packages"
cx "remove unused packages"

# System configuration
cx "start nginx service"
cx "create user developer"
cx "open port 443 in firewall"

# Information queries
cx "what version of python is installed?"
cx "show disk usage"
cx "is docker running?"
```

## Subcommands

### `cx config`

Manage CX Linux configuration.

```bash
# View all settings
cx config list

# Get specific setting
cx config get default_mode

# Set value
cx config set default_mode dry-run

# Reset to default
cx config reset default_mode

# Edit config file
cx config edit
```

#### Options

| Option | Description |
|--------|-------------|
| `--global` | Apply to global config |
| `--local` | Apply to local project config |

---

### `cx history`

View command history and operations.

```bash
# Show recent operations
cx history

# Detailed history
cx history --verbose

# Filter by type
cx history --type packages
cx history --type config
cx history --type services

# Filter by date
cx history --since "2024-01-01"
cx history --today
cx history --last 10

# Search history
cx history --search "nginx"
```

#### Options

| Option | Description |
|--------|-------------|
| `--type TYPE` | Filter by operation type |
| `--since DATE` | Show operations after date |
| `--until DATE` | Show operations before date |
| `--today` | Show today's operations |
| `--last N` | Show last N operations |
| `--search TEXT` | Search operation descriptions |
| `--verbose` | Show detailed information |
| `--json` | Output as JSON |

---

### `cx rollback`

Undo previous operations.

```bash
# Undo last operation
cx rollback

# Undo specific operation
cx rollback 3
cx rollback "nginx installation"

# Preview rollback
cx rollback --dry-run 3

# Selective rollback
cx rollback 3 --only packages
cx rollback 3 --except firewall
```

#### Options

| Option | Description |
|--------|-------------|
| `--dry-run` | Preview without executing |
| `--only TYPE` | Only rollback specific type |
| `--except TYPE` | Exclude specific type |
| `--force` | Force rollback even with warnings |
| `--confirm` | Require explicit confirmation |

---

### `cx snapshot`

Manage system snapshots.

```bash
# Create snapshot
cx snapshot create
cx snapshot create "before-upgrade"

# List snapshots
cx snapshot list
cx snapshot list --verbose

# Show snapshot details
cx snapshot show 1

# Delete snapshot
cx snapshot delete 1

# Restore from snapshot
cx snapshot restore 1

# Export/import
cx snapshot export 1 -o backup.tar.gz
cx snapshot import backup.tar.gz

# Cleanup
cx snapshot cleanup --older-than "30 days"
```

#### Subcommands

| Subcommand | Description |
|------------|-------------|
| `create [NAME]` | Create new snapshot |
| `list` | List all snapshots |
| `show ID` | Show snapshot details |
| `delete ID` | Delete snapshot |
| `restore ID` | Restore from snapshot |
| `export ID` | Export snapshot to file |
| `import FILE` | Import snapshot from file |
| `cleanup` | Remove old snapshots |
| `verify ID` | Verify snapshot integrity |

---

### `cx restore`

Restore files, packages, or services.

```bash
# Restore file
cx restore /etc/nginx/nginx.conf

# Restore from specific snapshot
cx restore /etc/nginx/ --from snapshot-1

# Restore package version
cx restore nginx --version 1.22.0

# Restore service state
cx restore service nginx

# Restore to package default
cx restore /etc/nginx/nginx.conf --default
```

#### Options

| Option | Description |
|--------|-------------|
| `--from SNAPSHOT` | Restore from specific snapshot |
| `--version VERSION` | Restore specific version |
| `--default` | Restore to package default |
| `--dry-run` | Preview restoration |

---

### `cx status`

Show system and CX Linux status.

```bash
# Overall status
cx status

# Specific subsystem
cx status packages
cx status services
cx status network

# JSON output
cx status --json
```

#### Options

| Option | Description |
|--------|-------------|
| `--json` | JSON output |
| `--watch` | Continuous monitoring |

---

### `cx diagnose`

Diagnose issues with services or system.

```bash
# Diagnose service
cx diagnose nginx

# System diagnosis
cx diagnose system

# Network diagnosis
cx diagnose network

# Package issues
cx diagnose packages
```

---

### `cx repair`

Automatically fix common issues.

```bash
# Repair service
cx repair nginx

# Repair packages
cx repair packages

# Full system repair
cx repair system

# Dry run
cx repair nginx --dry-run
```

---

### `cx diff`

Compare configurations and states.

```bash
# Current vs snapshot
cx diff /etc/nginx/nginx.conf snapshot-1

# Two snapshots
cx diff /etc/nginx/nginx.conf snapshot-1 snapshot-3

# Current vs package default
cx diff /etc/nginx/nginx.conf --default
```

---

### `cx explain`

Get explanations for commands or operations.

```bash
# Explain what command does
cx explain "apt install nginx"

# Explain CX Linux operation
cx explain snapshot-1

# Explain concept
cx explain "what is systemd"
```

---

### `cx auth`

Manage AI backend authentication.

```bash
# Login to backend
cx auth login

# Check auth status
cx auth status

# Logout
cx auth logout

# Switch backend
cx auth switch local
cx auth switch openai
```

---

### `cx backend`

Manage AI backend configuration.

```bash
# List backends
cx backend list

# Show current backend
cx backend current

# Set backend
cx backend set local
cx backend set openai

# Test backend
cx backend test

# Configure backend
cx backend config openai --api-key YOUR_KEY
```

---

### `cx update`

Update CX Linux itself.

```bash
# Check for updates
cx update --check

# Update to latest
cx update

# Update to specific version
cx update --version 2.1.0

# Update to canary
cx update --canary
```

---

### `cx completion`

Generate shell completions.

```bash
# Bash
cx completion bash > /etc/bash_completion.d/cx

# Zsh
cx completion zsh > ~/.zfunc/_cx

# Fish
cx completion fish > ~/.config/fish/completions/cx.fish
```

---

## Environment Variables

Override settings via environment:

| Variable | Description |
|----------|-------------|
| `CX_CONFIG` | Config file path |
| `CX_MODE` | Default mode (execute/dry-run) |
| `CX_BACKEND` | AI backend to use |
| `CX_API_KEY` | API key for cloud backend |
| `CX_VERBOSE` | Enable verbose output |
| `CX_NO_COLOR` | Disable colored output |
| `CX_LOG_LEVEL` | Logging level |

See [Environment Variables](/docs/reference/environment-variables) for complete list.

## Exit Codes

| Code | Meaning |
|------|---------|
| 0 | Success |
| 1 | General error |
| 2 | Invalid arguments |
| 3 | Permission denied |
| 4 | Operation cancelled |
| 5 | Network error |
| 6 | Backend error |
| 10 | Dry-run completed (no changes) |

## Configuration Files

CX Linux reads configuration from:

1. `/etc/cx/config.yaml` - System-wide
2. `~/.config/cx/config.yaml` - User config
3. `./.cx.yaml` - Project config
4. Environment variables
5. Command-line flags

Later sources override earlier ones.

## Related Documentation

- [Configuration Options](/docs/reference/configuration-options) - All config settings
- [Environment Variables](/docs/reference/environment-variables) - Environment configuration
- [Supported AI Backends](/docs/reference/ai-backends) - Backend setup
